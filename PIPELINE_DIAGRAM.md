# ğŸ¨ Diagrama Visual del Pipeline CI/CD

## ğŸ“Š Flujo Completo del Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INICIO DEL PIPELINE                                  â”‚
â”‚                    (Trigger: Manual o Webhook GitHub)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 1: CHECKOUT                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚  ğŸ“¥ Clonar repositorio desde GitHub                                         â”‚
â”‚  Branch: Docker-Compose-With-DockerHub                                      â”‚
â”‚  Tiempo: ~10 segundos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 2: BUILD BACKEND                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚  ğŸ”¨ Directorio: encuentros-back/                                            â”‚
â”‚  Comandos:                                                                  â”‚
â”‚    â†’ npm ci                    (instalar dependencias)                      â”‚
â”‚    â†’ npm run build            (compilar TypeScript â†’ JavaScript)            â”‚
â”‚  Output: dist/ folder                                                       â”‚
â”‚  Tiempo: ~2-3 minutos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 3: BUILD FRONTEND                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚  ğŸ”¨ Directorio: encuentros-front/                                           â”‚
â”‚  Comandos:                                                                  â”‚
â”‚    â†’ npm ci                                                                 â”‚
â”‚    â†’ npm run build -- --configuration=production                            â”‚
â”‚  Output: dist/encuentros-front/browser/                                     â”‚
â”‚  Tiempo: ~3-4 minutos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 4: UNIT TESTS BACKEND                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  ğŸ§ª Framework: Jest                                                         â”‚
â”‚  Comando: npm test -- --passWithNoTests                                     â”‚
â”‚  Verifica: LÃ³gica de negocio, servicios, controladores                      â”‚
â”‚  Tiempo: ~30 segundos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 5: UNIT TESTS FRONTEND                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  ğŸ§ª Framework: Karma + Jasmine                                              â”‚
â”‚  Comando: npm test -- --watch=false --browsers=ChromeHeadless               â”‚
â”‚  Verifica: Componentes, servicios, guards                                   â”‚
â”‚  Tiempo: ~1 minuto                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 6: BUILD DOCKER IMAGES (PARALELO)                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  6a. Backend Image         â”‚     â”‚  6b. Frontend Image        â”‚         â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚         â”‚
â”‚  â”‚  ğŸ³ Dockerfile Multi-stage â”‚     â”‚  ğŸ³ Dockerfile Multi-stage â”‚         â”‚
â”‚  â”‚                            â”‚     â”‚                            â”‚         â”‚
â”‚  â”‚  Stage 1: Build            â”‚     â”‚  Stage 1: Build            â”‚         â”‚
â”‚  â”‚    - node:20-alpine        â”‚     â”‚    - node:20-alpine        â”‚         â”‚
â”‚  â”‚    - npm ci                â”‚     â”‚    - npm ci                â”‚         â”‚
â”‚  â”‚    - npm run build         â”‚     â”‚    - npm run build         â”‚         â”‚
â”‚  â”‚                            â”‚     â”‚                            â”‚         â”‚
â”‚  â”‚  Stage 2: Runtime          â”‚     â”‚  Stage 2: Runtime          â”‚         â”‚
â”‚  â”‚    - node:20-alpine        â”‚     â”‚    - nginx:stable-alpine   â”‚         â”‚
â”‚  â”‚    - COPY dist/            â”‚     â”‚    - COPY dist/ â†’ nginx/   â”‚         â”‚
â”‚  â”‚    - EXPOSE 3000           â”‚     â”‚    - EXPOSE 80             â”‚         â”‚
â”‚  â”‚                            â”‚     â”‚                            â”‚         â”‚
â”‚  â”‚  Tags:                     â”‚     â”‚  Tags:                     â”‚         â”‚
â”‚  â”‚    - backend:BUILD_NUMBER  â”‚     â”‚    - frontend:BUILD_NUMBER â”‚         â”‚
â”‚  â”‚    - backend:latest        â”‚     â”‚    - frontend:latest       â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                             â”‚
â”‚  Tiempo: ~3-5 minutos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ ETAPA 7: INITIALIZE DATABASE (NUEVA - AUTOMÃTICA) â­                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚                                                                             â”‚
â”‚  Paso 1: Iniciar contenedor Oracle temporal                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ docker run -d --name encuentros_db_temp \                   â”‚           â”‚
â”‚  â”‚   -e ORACLE_PASSWORD=admin \                                â”‚           â”‚
â”‚  â”‚   -e ORACLE_DATABASE=XEPDB1 \                               â”‚           â”‚
â”‚  â”‚   -e APP_USER=ENCUENTROS_ADMIN \                            â”‚           â”‚
â”‚  â”‚   -p 1521:1521 \                                            â”‚           â”‚
â”‚  â”‚   gvenzl/oracle-xe:21-slim                                  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                              â†“                                              â”‚
â”‚  Paso 2: Esperar 60 segundos (Oracle initialization)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ â³ sleep 60                                                 â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                              â†“                                              â”‚
â”‚  Paso 3: Copiar scripts SQL al contenedor                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ docker cp init-db/01-create-user.sql ...:/tmp/             â”‚           â”‚
â”‚  â”‚ docker cp init-db/02-schema.sql ...:/tmp/                  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                              â†“                                              â”‚
â”‚  Paso 4: Ejecutar 01-create-user.sql                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ docker exec ... sqlplus sys/admin as sysdba \               â”‚           â”‚
â”‚  â”‚   @/tmp/01-create-user.sql                                  â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ âœ… Crea usuario ENCUENTROS_ADMIN                            â”‚           â”‚
â”‚  â”‚ âœ… Otorga privilegios (CONNECT, RESOURCE, DBA, etc.)        â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                              â†“                                              â”‚
â”‚  Paso 5: Ejecutar 02-schema.sql                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ docker exec ... sqlplus ENCUENTROS_ADMIN/admin \            â”‚           â”‚
â”‚  â”‚   @/tmp/02-schema.sql                                       â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ âœ… 13 Secuencias (SEQ_*)                                    â”‚           â”‚
â”‚  â”‚ âœ… 14 Tablas (USUARIOS, ENCUENTROS, APORTES, ...)          â”‚           â”‚
â”‚  â”‚ âœ… 4 Vistas (V_ENCUENTRO_RESUMEN, ...)                      â”‚           â”‚
â”‚  â”‚ âœ… 6 Procedimientos (CREAR_ENCUENTRO, ...)                  â”‚           â”‚
â”‚  â”‚ âœ… 1 Paquete PL/SQL (PKG_CENTRAL)                           â”‚           â”‚
â”‚  â”‚ âœ… 30+ Ãndices                                              â”‚           â”‚
â”‚  â”‚ âœ… Constraints (PKs, FKs, Checks)                           â”‚           â”‚
â”‚  â”‚ âœ… 1 Usuario de prueba                                      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â”‚  Tiempo: ~2-3 minutos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ ETAPA 8: VERIFY DATABASE â­                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  âœ”ï¸ Ejecutar query de verificaciÃ³n:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ SELECT COUNT(*) AS "Total Tables" FROM user_tables;        â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ Resultado esperado: 14 tablas                              â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â”‚  Tiempo: ~10 segundos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 9: PUSH TO DOCKERHUB                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  ğŸ“¤ AutenticaciÃ³n con credenciales de Jenkins                               â”‚
â”‚  ğŸ“¤ Publicar 4 imÃ¡genes:                                                    â”‚
â”‚                                                                             â”‚
â”‚     1. tomasra98/encuentros-backend:BUILD_NUMBER                            â”‚
â”‚     2. tomasra98/encuentros-backend:latest                                  â”‚
â”‚     3. tomasra98/encuentros-frontend:BUILD_NUMBER                           â”‚
â”‚     4. tomasra98/encuentros-frontend:latest                                 â”‚
â”‚                                                                             â”‚
â”‚  Tiempo: ~2-3 minutos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAPA 10: CLEAN UP                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚  ğŸ§¹ Detener y eliminar contenedor Oracle temporal                           â”‚
â”‚  ğŸ§¹ Eliminar imÃ¡genes Docker locales                                        â”‚
â”‚  ğŸ§¹ Limpiar workspace                                                       â”‚
â”‚                                                                             â”‚
â”‚  Tiempo: ~30 segundos                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         âœ… PIPELINE COMPLETADO                              â”‚
â”‚                                                                             â”‚
â”‚  Resultado:                                                                 â”‚
â”‚    âœ… CÃ³digo compilado y probado                                            â”‚
â”‚    âœ… 4 imÃ¡genes publicadas en DockerHub                                    â”‚
â”‚    âœ… Scripts SQL validados                                                 â”‚
â”‚    âœ… Esquema de BD verificado                                              â”‚
â”‚                                                                             â”‚
â”‚  Tiempo Total: ~15-20 minutos                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ Detalle del Schema de Base de Datos Creado

```
ORACLE DATABASE (XEPDB1)
â”‚
â””â”€â”€â”€ ğŸ‘¤ Usuario: ENCUENTROS_ADMIN
     â”‚
     â”œâ”€â”€â”€ ğŸ“Š SECUENCIAS (13)
     â”‚    â”œâ”€ SEQ_USUARIOS
     â”‚    â”œâ”€ SEQ_ENCUENTROS
     â”‚    â”œâ”€ SEQ_PARTICIPANTES
     â”‚    â”œâ”€ SEQ_APORTES
     â”‚    â”œâ”€ SEQ_BOLSILLOS
     â”‚    â”œâ”€ SEQ_PRESUPUESTOS
     â”‚    â”œâ”€ SEQ_ITEMS_PRESUPUESTO
     â”‚    â”œâ”€ SEQ_GASTOS
     â”‚    â”œâ”€ SEQ_MENSAJES
     â”‚    â”œâ”€ SEQ_RECORDATORIOS
     â”‚    â”œâ”€ SEQ_AMISTADES
     â”‚    â”œâ”€ SEQ_RELACIONES_AMISTADES
     â”‚    â””â”€ SEQ_SOLICITUDES_AMISTAD
     â”‚
     â”œâ”€â”€â”€ ğŸ“‹ TABLAS (14)
     â”‚    â”œâ”€ USUARIOS                  (datos de usuarios)
     â”‚    â”œâ”€ ENCUENTROS                (eventos/reuniones)
     â”‚    â”œâ”€ PARTICIPANTES_ENCUENTRO   (quiÃ©n participa en quÃ© encuentro)
     â”‚    â”œâ”€ APORTES                   (aportes econÃ³micos)
     â”‚    â”œâ”€ BOLSILLOS                 (fondos disponibles)
     â”‚    â”œâ”€ PRESUPUESTOS              (presupuesto total)
     â”‚    â”œâ”€ ITEMS_PRESUPUESTO         (Ã­tems del presupuesto)
     â”‚    â”œâ”€ GASTOS                    (gastos realizados)
     â”‚    â”œâ”€ MENSAJES                  (chat del encuentro)
     â”‚    â”œâ”€ RECORDATORIOS             (notificaciones)
     â”‚    â”œâ”€ AMISTADES                 (relaciones de amistad)
     â”‚    â”œâ”€ RELACIONES_AMISTADES      (gestiÃ³n de solicitudes)
     â”‚    â”œâ”€ SOLICITUDES_AMISTAD       (solicitudes pendientes)
     â”‚    â””â”€ migrations, typeorm_metadata (control de TypeORM)
     â”‚
     â”œâ”€â”€â”€ ğŸ‘ï¸ VISTAS (4)
     â”‚    â”œâ”€ V_ENCUENTRO_RESUMEN       (resumen de encuentros)
     â”‚    â”œâ”€ V_PARTICIPANTES_ENCUENTRO (info de participantes)
     â”‚    â”œâ”€ VISTAPARTICIPANTESAPORTES (aportes por participante)
     â”‚    â””â”€ VISTAPRESUPUESTOSGASTOS   (balance presupuesto/gastos)
     â”‚
     â”œâ”€â”€â”€ âš™ï¸ PROCEDIMIENTOS (8)
     â”‚    â”œâ”€ CREAR_ENCUENTRO                (crea encuentro completo)
     â”‚    â”œâ”€ AGREGAR_PARTICIPANTE_ENCUENTRO (aÃ±ade participante)
     â”‚    â”œâ”€ AGREGAR_ITEM_PRESUPUESTO       (aÃ±ade Ã­tem a presupuesto)
     â”‚    â”œâ”€ AGREGAR_APORTE                 (registra aporte)
     â”‚    â”œâ”€ AGREGAR_GASTO                  (registra gasto)
     â”‚    â”œâ”€ CREAR_SOLICITUD_AMISTAD        (envÃ­a solicitud)
     â”‚    â”œâ”€ ACEPTAR_SOLICITUD_AMISTAD      (acepta solicitud)
     â”‚    â””â”€ ESTADISTICAS_EVENTOS_FINANCIEROS (reportes)
     â”‚
     â”œâ”€â”€â”€ ğŸ“¦ PAQUETES (1)
     â”‚    â””â”€ PKG_CENTRAL                (centraliza procedimientos)
     â”‚
     â”œâ”€â”€â”€ ğŸ”‘ ÃNDICES (30+)
     â”‚    â”œâ”€ Primary Keys (uno por tabla)
     â”‚    â”œâ”€ Foreign Keys
     â”‚    â”œâ”€ Ãndices de bÃºsqueda
     â”‚    â””â”€ Ãndices compuestos
     â”‚
     â””â”€â”€â”€ ğŸ”’ CONSTRAINTS
          â”œâ”€ Primary Keys (14)
          â”œâ”€ Foreign Keys (20+)
          â”œâ”€ Unique Constraints
          â”œâ”€ Check Constraints
          â””â”€ Not Null Constraints
```

## ğŸ¯ ComparaciÃ³n: Antes vs DespuÃ©s

### âŒ ANTES (Sin Pipeline)

```
1. ğŸ‘¨â€ğŸ’» Desarrollador compila manualmente
2. ğŸ‘¨â€ğŸ’» Desarrollador ejecuta tests manualmente
3. ğŸ‘¨â€ğŸ’» Desarrollador construye imÃ¡genes Docker manualmente
4. ğŸ‘¨â€ğŸ’» Desarrollador prueba BD manualmente (tal vez)
5. ğŸ‘¨â€ğŸ’» Desarrollador publica en DockerHub manualmente
6. âš ï¸ Riesgo de errores humanos
7. âš ï¸ Proceso lento y repetitivo
8. âš ï¸ Sin validaciÃ³n automÃ¡tica de BD
```

### âœ… DESPUÃ‰S (Con Pipeline)

```
1. ğŸ¤– Click en "Build Now" (o webhook automÃ¡tico)
2. ğŸ¤– Pipeline ejecuta TODO automÃ¡ticamente
3. âœ… CÃ³digo compilado y probado
4. âœ… ImÃ¡genes Docker construidas
5. âœ… Base de datos validada automÃ¡ticamente
6. âœ… ImÃ¡genes publicadas en DockerHub
7. âœ… Proceso consistente y repetible
8. âœ… Tiempo total: 15-20 minutos
```

## ğŸ“Š EstadÃ­sticas del Pipeline

| MÃ©trica                    | Valor                    |
| -------------------------- | ------------------------ |
| **Tiempo Total**           | 15-20 minutos            |
| **Etapas**                 | 10                       |
| **Pruebas Ejecutadas**     | Backend + Frontend       |
| **ImÃ¡genes Generadas**     | 4 (2 servicios Ã— 2 tags) |
| **Scripts SQL Ejecutados** | 2 (usuario + schema)     |
| **Tablas Creadas**         | 14                       |
| **Procedimientos Creados** | 8                        |
| **Vistas Creadas**         | 4                        |
| **Secuencias Creadas**     | 13                       |
| **Compatibilidad**         | Linux y Windows          |

## ğŸ‰ Beneficios Clave

1. âœ… **AutomatizaciÃ³n Completa** - De cÃ³digo fuente a producciÃ³n
2. âœ… **ValidaciÃ³n de BD** - Scripts SQL probados antes de despliegue
3. âœ… **Calidad Garantizada** - Tests en cada build
4. âœ… **Trazabilidad** - Cada imagen taggeada con nÃºmero de build
5. âœ… **Reproducibilidad** - Mismo proceso cada vez
6. âœ… **Ahorro de Tiempo** - ~80% menos tiempo manual
7. âœ… **DetecciÃ³n Temprana** - Errores encontrados antes de producciÃ³n
8. âœ… **Multi-plataforma** - Funciona en Linux y Windows

---

**Pipeline CI/CD Completo y Robusto** ğŸš€
